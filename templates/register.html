{% extends 'layout.html' %}
{% block title %}Registration{% endblock %}
{% block topscript %}
<script>
    function checkPass() {
        //Store the password field objects into variables ...
        var pass1 = document.getElementById('password');
        var pass2 = document.getElementById('confirmpass');
        //Store the Confimation Message Object ...
        var message = document.getElementById('confirmMessage');
        //Set the colors we will be using ...
        var goodColor = "#66cc66";
        var badColor = "#ff6666";
        //Compare the values in the password field
        //and the confirmation field
        if (pass1.value == pass2.value) {
            //The passwords match.
            //Set the color to the good color and inform
            //the user that they have entered the correct password
            pass2.style.backgroundColor = goodColor;
            message.style.color = goodColor;
            message.innerHTML = "Passwords Match!"
        } else {
            //The passwords do not match.
            //Set the color to the bad color and
            //notify the user.
            pass2.style.backgroundColor = badColor;
            message.style.color = badColor;
            message.innerHTML = "Passwords Do Not Match!"
        }
    }
    function checkEmail() {
        //Store the email field objects into variables ...
        var email1 = document.getElementById('email');
        var email2 = document.getElementById('confirmemail');
        //Store the Confimation Message Object ...
        var message = document.getElementById('confirmMessageE');
        //Set the colors we will be using ...
        var goodColor = "#66cc66";
        var badColor = "#ff6666";
        //Compare the values in the email field
        //and the confirmation field
        if (email1.value == email2.value) {
            //The emails match.
            //Set the color to the good color and inform
            //the user that they have entered the correct email
            email2.style.backgroundColor = goodColor;
            message.style.color = goodColor;
            message.innerHTML = "Emails Match!"
        } else {
            //The emails do not match.
            //Set the color to the bad color and
            //notify the user.
            email2.style.backgroundColor = badColor;
            message.style.color = badColor;
            message.innerHTML = "Emails Do Not Match!"
        }
    }
</script>
{% endblock %}
{% block body %}
{% from "includes/_formhelper.html" import render_field %}
<div class="container mtb">
    <div class="center wow fadeInDown">
        <h2>Registration Page</h2>
    </div>
    <div class="row">
        <div class="col-lg-8 col-lg-offset-2">
            <h4 class="text-center">Register Here!</h4>
            <div class="hline"></div>
            <br />
            {% if form.errors %}
                <div class="alert alert-danger">
                    <ul>
                        {% for field_name, field_errors in form.errors|dictsort if field_errors %}
                            {% for error in field_errors %}
                                <li>{{ form[field_name].label }}: {{ error }}</li>
                            {% endfor %}
                        {% endfor %}
                    </ul>
                </div>
            {% endif %}
            <form class="form-horizontal" action="" method="POST">

                <div class="form-group">
                    {{ render_field(form.fname, class_="form-control") }}
                </div>

                <div class="form-group">
                    {{ render_field(form.lname, class_="form-control") }}
                </div>

                <div class="form-group">
                    {{ render_field(form.username, class_="form-control") }} <button type="button">Check Aavailability</button>
                </div>

                <div class="form-group">
                    {{ render_field(form.nric, class_="form-control", style="text-transform: uppercase;") }}
                </div>

                <div class="form-group">
                    {{ render_field(form.password, class_="form-control") }}
                </div>

                <div class="form-group">
                    {{ render_field(form.confirmpass, class_="form-control", onkeyup="checkPass(); return false;") }}
                    <span id="confirmMessage" class="confirmMessage"></span>
                </div>

                <div class="form-group">
                    {{ render_field(form.email, class_="form-control") }}
                </div>

                <div class="form-group">
                    {{ render_field(form.confirmemail, class_="form-control", onkeyup="checkEmail(); return false;") }}
                    <span id="confirmMessageE" class="confirmMessageE"></span>
                </div>

                <div class="form-group">
                    {{ render_field(form.homephone, class_="form-control") }}
                </div>

                <div class="form-group">
                    {{ render_field(form.mobilephone, class_="form-control") }}
                </div>

                <div class="form-group">
                    {{ render_field(form.address, class_="form-control") }}
                </div>

                <div class="form-group">
                    {{ render_field(form.postalcode, class_="form-control") }}
                </div>

                <div class="form-group">
                    {{ render_field(form.newsletter) }}
                </div>
                 <div class="form-group">
                    <p>*Mandatory to fill in</p>
                </div>

                <input type="submit" class="btn btn-theme" value="Register">

            </form>
        </div><!-- /col-lg-8 -->
    </div><!--/row -->
</div><!--/container -->
{% endblock %}


